<!DOCTYPE html>
<html lang="en">
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aframe</title>
  <!--AFrame version 1.3.0-->
  <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  <!--AFrame troika text-->
  <script src="https://unpkg.com/aframe-troika-text/dist/aframe-troika-text.min.js"></script>
  <!-- AFrame Orbit Control -->
  <script src="https://unpkg.com/aframe-orbit-controls@1.0.0/dist/aframe-orbit-controls.min.js"></script>
  <!--MQTT.js 4.3.7-->
  <script src="https://unpkg.com/mqtt@4.3.7/dist/mqtt.min.js"></script>
  <script src="./resources/custom-components.js"></script>
  <!--D3.js-->
  <script src="https://d3js.org/d3.v7.min.js"></script>

  <style>
  /* a-scene {
    height: 60vh;
    width: 50vw;
  } */
  </style>
  </head>

    <body>
      <a-scene
      cursor="rayOrigin: mouse"
      raycaster="objects: .collidable"
      renderer="antialias: true;
        colorManagement: true;
        sortObjects: true;
        physicallyCorrectLights: true;">
      <!-- stats vr-mode-ui="enabled: true" > -->
    
        <a-asset>
        <img id="sky" src="./resources/UCLquad.webp" />
        <a-asset-item id="plant" src="resources/Plant.glb"> </a-asset-item>
        <a-asset-item id="display" src="resources/display.glb"> </a-asset-item>
        <a-asset-item id="table" src="resources/table.glb"> </a-asset-item>
        </a-asset>

        <a-entity id="_table"
          gltf-model="#table" scale="1 1 1" position="0 -1.6 0" rotation="0 0 0"></a-entity>
        <a-entity id="_plant"
          gltf-model="#plant" scale="1 1 1" position="0 -0.51 0.1" rotation="0 0 0"></a-entity>
        
        <a-entity id="_display"
          gltf-model="#display" scale="0.1 0.1 0.1" position="-0.22 -0.3 0.1" rotation="0 0 0">
            <a-troika-text id="moisture"
              value="Moisture: " width="4" anchor="left" position="-0.9 0.5 0.02"></a-troika-text>
            <a-troika-text id="temperature"
              value="Temperature: " width="4" anchor="left"position="-0.9 0.1 0.02"></a-troika-text>
            <a-troika-text id="humidity"
            value="Humidity: " width="4" anchor="left" position="-0.9 -0.3 0.02"></a-troika-text>

            <a-entity id="buttonsGroup"
            controller="connect:#connect-button; disconnect:#disconnect-button">
              <a-entity
                class="collidable"
                id="connect-button"
                geometry="primitive: box; width:0.4; height: 0.4; depth: 0.1;"
                material="color: green; emissive:#b9ff19; emissiveIntensity:0.1"
                position="-0.5 -0.65 0.02"
              ></a-entity>
              <a-entity
                class="collidable"
                id="disconnect-button"
                geometry="primitive: box; width:0.4; height: 0.4; depth: 0.1;"
                material="color: red; emissive:#ff1100; emissiveIntensity:0.1"
                position="0.5 -0.65 0.02"
              ></a-entity>
            </a-entity>
      </a-entity>

        <a-sky radius="1.6" src="#sky"></a-sky>
        <a-entity camera look-controls
        orbit-controls="target: 0 0 0; minDistance: 0; maxDistance: 0.8; initialPosition: 0 0 0.8; dampingFactor:0.05"
        ></a-entity>
        <!-- cannot move keyboard anymore
       <a-camera wasd-controls-enabled="false" position="0 0 1"></a-camera>  -->
        
    
      </a-scene>








    <!-- <div id="myEmbeddedScene">
    <a-scene embedded stats vr-mode-ui="enabled: false" >
      <a-box position="-1 0.5 -3" rotation="0 45 0" color="#4CC3D9"></a-box>
      <a-entity geometry="primitive: box;  width: 1; height: 1; depth: 1"
          material="color: red; shader: standard;"
          rotation="0 45 0" position="-1 1.7 -3"></a-entity>
      <a-sphere position="0 1.25 -5" radius="1.25" color="#EF2D5E"></a-sphere>
      <a-sphere position="0 3.5 -5"radius="1"color="blue"></a-sphere>
      <a-cylinder position="1 0.75 -3" radius="0.5" height="1.5" color="#FFC65D"></a-cylinder>
      <a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#7BC8A4"></a-plane>
      <a-sky color="#ECECEC"></a-sky>
      <a-camera fov="60" position="0 2 0"></a-camera>
    </a-scene>
    <a-scene stats vr-mode-ui="enabled: false"></a-scene>
    
    </div> -->
  </body>
</html>